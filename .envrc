# Load Nix development environment for terraforming_again project
# Use flake with fallback to manual activation

# Try to use flake if nix-direnv is available
if has nix_direnv_version && nix_direnv_version 2.3.0; then
    use flake
else
    # Fallback: show helpful message and use basic nix
    echo "ðŸ’¡ To activate the full Nix environment, run: nix develop --accept-flake-config"
    echo "   Or install nix-direnv for automatic loading: nix profile install nixpkgs#nix-direnv"
    echo "   Current environment: Basic nix (from parent .envrc)"
fi

# Project-specific environment variables
export PROJECT_NAME="terraforming_again"

# Watch for changes to flake files
watch_file flake.nix
watch_file flake.lock

