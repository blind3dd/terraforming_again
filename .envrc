# Load Nix development environment for terraforming_again project
# Use nix develop with flake support

# Check if we're in a nix environment, if not, show helpful message
if ! has nix_direnv_version || ! nix_direnv_version 2.3.0; then
    echo "ðŸ’¡ To activate the Nix environment, run: nix develop --accept-flake-config"
    echo "   Or install nix-direnv for automatic loading"
fi

# Use flake
use flake

# Add any project-specific environment variables here
export PROJECT_NAME="terraforming_again"
export GOPATH="$HOME/Development/go"

# Go cache configuration (separate from workspace)
export GOMODCACHE="$HOME/.cache/go/mod"
export GOCACHE="$HOME/.cache/go/build"
export GOSUMDB="sum.golang.org"

# Watch for changes to flake.nix
watch_file flake.nix
watch_file flake.lock

