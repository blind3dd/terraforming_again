# GPG Agent Configuration for YubiKey
# Place in ~/.gnupg/gpg-agent.conf or source from flake

# Use pinentry-mac for GUI prompts on macOS
pinentry-program /nix/store/*-pinentry-mac-*/Applications/pinentry-mac.app/Contents/MacOS/pinentry-mac

# Enable SSH support for YubiKey SSH keys
enable-ssh-support

# Cache settings - Force PIN entry every time (maximum security)
# Set to 1 second to effectively disable caching
default-cache-ttl 1
max-cache-ttl 1

# Disable passphrase caching completely
no-allow-external-cache

# Logging (useful for debugging)
# Uncomment if you need to debug YubiKey issues
# log-file /tmp/gpg-agent.log
# debug-level basic

